<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard - Contest Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/sidebar.css">
</head>

<body>
    <div class="mobile-overlay" id="mobileOverlay" onclick="toggleMobileSidebar()"></div>
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-trophy"></i>
                <span>Contest Pro</span>
            </div>
            <button class="toggle-btn desktop-only" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <nav class="sidebar-menu">
            <div class="menu-section">
                <div class="menu-title">Main</div>
                <a href="index.html" class="menu-item"><i class="fas fa-home"></i><span>Home</span></a>
                <a href="dashboard.html" class="menu-item active"><i class="fas fa-chart-line"></i><span>Dashboard</span></a>
                <a href="profile.html" class="menu-item"><i class="fas fa-user-circle"></i><span>My Profile</span></a>
            </div>
            <div class="menu-section">
                <div class="menu-title">Quick Actions</div>
                <a href="profile.html#create" class="menu-item"><i class="fas fa-plus-circle"></i><span>New Contest</span></a>
                <a href="profile.html#contests" class="menu-item"><i class="fas fa-trophy"></i><span>My Contests</span></a>
                <a href="profile.html#participants" class="menu-item"><i class="fas fa-users"></i><span>Participants</span></a>
            </div>
            <div class="menu-section">
                <div class="menu-title">Account</div>
                <a href="profile.html#settings" class="menu-item"><i class="fas fa-cog"></i><span>Settings</span></a>
                <a href="#" class="menu-item" onclick="logout(); return false;"><i class="fas fa-sign-out-alt"></i><span>Logout</span></a>
            </div>
        </nav>
        <div class="sidebar-footer">
            <div class="user-profile">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-info">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-email" id="userEmail">user@example.com</div>
                </div>
            </div>
        </div>
    </aside>
    <main class="main-content">
        <div class="top-bar">
            <div>
                <button class="mobile-menu-btn" onclick="toggleMobileSidebar()"><i class="fas fa-bars"></i></button>
                <h1 class="page-title">Analytics Dashboard</h1>
                <div class="breadcrumb">Home / Dashboard</div>
            </div>
            <div class="top-actions">
                <button class="notification-btn" onclick="refreshDashboard()" title="Refresh">
                    <i class="fas fa-sync"></i>
                </button>
                <button class="notification-btn" title="Notifications">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge"></span>
                </button>
            </div>
        </div>
        <div class="content-area">
            <!-- Contest Selector -->
            <div class="card" style="margin-bottom: 24px;">
                <div class="card-header">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <i class="fas fa-filter" style="color: #3b82f6; font-size: 20px;"></i>
                        <div>
                            <h2 class="card-title" style="margin: 0;">Contest Selection</h2>
                            <p class="card-subtitle" style="margin: 4px 0 0 0;">Choose a contest to view detailed analytics</p>
                        </div>
                    </div>
                    <button class="btn btn-secondary btn-sm" onclick="loadContests()">
                        <i class="fas fa-sync"></i> Reload
                    </button>
                </div>
                <select id="dashboardContestSelect" class="form-select" onchange="loadDashboardData()" style="width: 100%; font-size: 16px; padding: 12px;">
                    <option value="">Loading contests...</option>
                </select>
            </div>

            <!-- Dashboard Content -->
            <div id="dashboardContent">
                <!-- Welcome State -->
                <div class="card" style="text-align: center; padding: 64px 24px;">
                    <div style="font-size: 80px; margin-bottom: 24px;">
                        <i class="fas fa-chart-pie" style="color: #3b82f6;"></i>
                    </div>
                    <h2 style="font-size: 28px; font-weight: 700; color: #1e293b; margin-bottom: 12px;">
                        Welcome to Analytics Dashboard
                    </h2>
                    <p style="font-size: 16px; color: #64748b; max-width: 500px; margin: 0 auto 32px;">
                        Select a contest from the dropdown above to view real-time analytics, participant metrics, and performance insights.
                    </p>
                    <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 24px; border-radius: 16px; color: white; min-width: 200px;">
                            <div style="font-size: 36px; margin-bottom: 8px;"><i class="fas fa-chart-line"></i></div>
                            <div style="font-size: 14px; opacity: 0.9;">Real-time</div>
                            <div style="font-size: 18px; font-weight: 700;">Live Metrics</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 24px; border-radius: 16px; color: white; min-width: 200px;">
                            <div style="font-size: 36px; margin-bottom: 8px;"><i class="fas fa-users"></i></div>
                            <div style="font-size: 14px; opacity: 0.9;">Track</div>
                            <div style="font-size: 18px; font-weight: 700;">Participants</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 24px; border-radius: 16px; color: white; min-width: 200px;">
                            <div style="font-size: 36px; margin-bottom: 8px;"><i class="fas fa-trophy"></i></div>
                            <div style="font-size: 14px; opacity: 0.9;">Monitor</div>
                            <div style="font-size: 18px; font-weight: 700;">Winners</div>
                        </div>
                    </div>
                </div>

                <!-- Features Grid -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 24px;">
                    <div class="card" style="text-align: center; padding: 32px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; color: white; font-size: 28px;">
                            <i class="fas fa-stream"></i>
                        </div>
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 8px;">Participant Flow</h3>
                        <p style="font-size: 14px; color: #64748b; line-height: 1.6;">Visualize how participants move through contest stages with interactive progress bars</p>
                    </div>
                    <div class="card" style="text-align: center; padding: 32px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; color: white; font-size: 28px;">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 8px;">Platform Insights</h3>
                        <p style="font-size: 14px; color: #64748b; line-height: 1.6;">Analyze participant distribution across social media platforms with detailed charts</p>
                    </div>
                    <div class="card" style="text-align: center; padding: 32px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; color: white; font-size: 28px;">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 8px;">Live Activity</h3>
                        <p style="font-size: 14px; color: #64748b; line-height: 1.6;">Monitor real-time contest activity with automatic updates every 10 seconds</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="js/config.js"></script>
    <script src="js/auth-guard.js"></script>
    <script>requireAuth();</script>
    <script src="js/dashboard.js"></script>
    <script src="js/sidebar.js"></script>
</body>

</html>
